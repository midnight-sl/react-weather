(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{35:function(e,t,r){},55:function(e,t,r){},61:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(0),c=r(26),s=r.n(c),o=r(28),i=r(1),u=(r(35),r(7)),h=r.n(u),l=r(9),b=r(12),f=r(27),p=r.n(f).a.create({baseURL:"http://api.weatherstack.com/"}),d=function(){var e=Object(l.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/current?access_key=".concat("a4ccf188a535d74355cc5968008e34df","&query=").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r(55);function j(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),r=t[0],c=t[1],s=Object(a.useState)(null),o=Object(b.a)(s,2),i=o[0],u=o[1],f=Object(a.useState)(""),p=Object(b.a)(f,2),j=p[0],w=p[1],O=Object(a.useState)(""),m=Object(b.a)(O,2),x=m[0],v=m[1];Object(a.useEffect)((function(){navigator.geolocation?navigator.permissions.query({name:"geolocation"}).then((function(e){"granted"===e.state?navigator.geolocation.getCurrentPosition(g):"prompt"===e.state?navigator.geolocation.getCurrentPosition(g,k):"denied"===e.state&&alert("Allow the browser to use your location or choose the city manually!"),e.onchange=function(){}})):alert("Sorry location is not available! Choose the city manually!")}),[]),Object(a.useEffect)((function(){sessionStorage.setItem("".concat(r,"-weather"),JSON.stringify(i))}),[i]);var k=function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))},g=function(){var e=Object(l.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.coords,w(r.latitude),v(r.longitude),n=j+","+x,!j||!x){e.next=11;break}if(!window.confirm("Proceed and show weather for your current location?")){e.next=11;break}return e.next=8,N(n);case 8:a=e.sent,u(a.current),c("".concat(a.location.name,", ").concat(a.location.country));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r.trim()){e.next=14;break}if(!(n=JSON.parse(sessionStorage.getItem("".concat(r,"-weather"))))){e.next=7;break}u(n),e.next=12;break;case 7:return e.next=9,S();case 9:return a=e.sent,u(a.current),e.abrupt("return",a);case 12:e.next=15;break;case 14:alert("Write correct city");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"weather page",children:[Object(n.jsx)("div",{className:"weather-header",children:Object(n.jsx)("h2",{children:"Current Weather"})}),Object(n.jsxs)("div",{className:"choose-city",children:[Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"text",name:"city",value:r,onChange:function(e){return c(e.target.value)}}),Object(n.jsx)("button",{type:"submit",onClick:y,children:"Show Weather"})]}),function(){if(i){var e,t=i.temperature,a=i.feelslike,c=i.humidity,s=i.weather_descriptions[0],o=i.weather_icons[0],u=i.wind_dir,h=i.wind_speed;switch(u){case"N":e="North";break;case"NE":e="Northeast";break;case"E":e="East";break;case"SE":e="Southeast";break;case"S":e="South";break;case"SW":e="Southwest";break;case"W":e="West";break;case"NW":e="Northwest";break;default:e="absent"}return Object(n.jsxs)("div",{className:"weather-block",children:[Object(n.jsx)("img",{src:o,alt:"weather icon"}),Object(n.jsxs)("p",{className:"description",children:["Current weather in ",r," is ",t," degrees and ",s.toLowerCase(),". Feels like ",a," degrees."]}),Object(n.jsxs)("p",{className:"description",children:[" Humidity is ",c,"%. Wind is ",3===u.length?u:e,", ",h," km/hour"]})]})}return Object(n.jsx)("p",{children:"Enter name of the city to show the weather"})}()]})]})}function w(){return Object(n.jsx)(o.a,{children:Object(n.jsx)(i.c,{children:Object(n.jsx)(i.a,{path:"/",children:Object(n.jsx)(j,{})})})})}s.a.render(Object(n.jsx)(w,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.f25a4a3c.chunk.js.map